

<!DOCTYPE html>
<html lang="en" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>SpringBoot+Vue项目 - NP&#39;s Blog</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="项目架构采用前后端分离架构，前端为vue，后端为jav...">
  <meta name="author" content="thyme1228">
  <link rel="icon" href="/images/icons/favicon-16x16.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/favicon-32x32.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon-144x144.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_r673sha78lq.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: '[object Object]'
      },
      donate: {
        enable: false,
        alipay: 'https://pic.izhaoo.com/alipay.jpg',
        wechat: 'https://pic.izhaoo.com/wechat.jpg'
      },
      galleries: {
        enable: false
      },
      fab: {
        enable: true,
        always_show: false
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: false
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: '我在开了灯的床头下，想问问自己的心啊。',
          typing: true,
          api: 'https://v2.jinrishici.com/one.json',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: true,
        type: 'url',
        image: 'https://pic.izhaoo.com/weapp-code.jpg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: false,
        path: ''
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 5.4.0"></head>

<body class="lock-screen">
  <div class="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
        <i class="iconfont iconqrcode j-navbar-qrcode"></i>
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
    </div>
    <div class="center">SpringBoot+Vue项目</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
      <div id="qrcode-navbar"></div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> 首页</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> 摄影</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> 归档</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> 标签</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> 分类</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> 关于</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/cover/12.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">SpringBoot+Vue项目</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>July 06, 2021</span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>41256</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        <h1 id="项目架构"><a href="#项目架构" class="headerlink" title="项目架构"></a>项目架构</h1><p>采用前后端分离架构，前端为vue，后端为java。使用springboot做跨域请求。前端在VS code中的Tomcat下部署。后端将在IDEA中集成得Tomcat下部署。</p>
<h1 id="1、后台环境搭建"><a href="#1、后台环境搭建" class="headerlink" title="1、后台环境搭建"></a>1、后台环境搭建</h1><h2 id="1-1-创建后台项目"><a href="#1-1-创建后台项目" class="headerlink" title="1.1 创建后台项目"></a>1.1 创建后台项目</h2><p>使用IDEA快速搭建SpringBoot环境：<code>File</code>–<code>New</code>–<code>Project</code>–<code>Spring Initializr</code>–填写Group、项目名称–<code>Next</code>*2–选择模块【<code>web</code>（Spring WEB）&amp;&amp; <code>SQL</code> (JDBC API、MaBatis Framework、MySql Driver)】。</p>
<p>因为mybatis需要一个数据源，所以在\src\main\resources中配置一个<code>application.yml</code>，将端口改为9000。并在resources下新建mapper文件夹用来放置映射文件。</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># mysql</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-comment">#MySQL配置</span><br>    <span class="hljs-attr">driverClassName:</span>  <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/evidence?useUnicode=true&amp;characterEncoding=UTF-8&amp;useSSL=false&amp;serverTimezone=UTC</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br><br><span class="hljs-attr">mybatis:</span><br>  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:mapper/*.xml</span><br>  <span class="hljs-attr">type-aliases-package:</span> <span class="hljs-string">com.example.demo.model</span><br><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">9000</span><br></code></pre></td></tr></table></figure>
<p>在项目目录下新建controller文件夹与TestController.java。启动项目测试连接,网页输入：<a target="_blank" rel="noopener" href="http://localhost:9000/test">http://localhost:9000/test</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">package com.deyunjiaoyu.sportplay.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br>@RestController<br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestController</span> </span>&#123;<br><br>        @RequestMapping(<span class="hljs-string">&quot;/test&quot;</span>)<br>        public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="1-2-处理跨域"><a href="#1-2-处理跨域" class="headerlink" title="1.2 处理跨域"></a>1.2 处理跨域</h2><p>1.使用注解<code>@CrossOrigin</code></p>
<p>2.使用配置类，在util文件夹下新建一个WebConfig类继承WebMvcConfigurerAdapter(不再更新，后期使用其他类)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.CorsRegistry;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;<br><span class="hljs-comment">//全局配置跨域请求</span><br>@Configuration<br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebMvcConfigurerAdapter</span> </span>&#123;<br><br>    @Override<br>    public <span class="hljs-keyword">void</span> <span class="hljs-function"><span class="hljs-title">addCorsMappings</span>(<span class="hljs-params">CorsRegistry registry</span>)</span> &#123;<br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * 1.域访问路径</span><br><span class="hljs-comment">         * 2.请求来源</span><br><span class="hljs-comment">         * 3.方法</span><br><span class="hljs-comment">         * 4.允许携带</span><br><span class="hljs-comment">         * 5.最大响应时间</span><br><span class="hljs-comment">         *  */</span><br>        registry.addMapping(<span class="hljs-string">&quot;/**&quot;</span>)<br>                .allowedOrigins(<span class="hljs-string">&quot;Http://localhost:8080&quot;</span>, <span class="hljs-string">&quot;null&quot;</span>)<br>                .allowedMethods(<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;POST&quot;</span>, <span class="hljs-string">&quot;PUT&quot;</span>, <span class="hljs-string">&quot;OPTION&quot;</span>, <span class="hljs-string">&quot;DELETE&quot;</span>)<br>                .allowCredentials(<span class="hljs-literal">true</span>)<br>                .maxAge(<span class="hljs-number">3600</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="2、创建前端项目"><a href="#2、创建前端项目" class="headerlink" title="2、创建前端项目"></a>2、创建前端项目</h1><h2 id="2-1-创建步骤"><a href="#2-1-创建步骤" class="headerlink" title="2.1 创建步骤"></a>2.1 创建步骤</h2><p>1.使用Vue的前端管理器创建项目，使用命令指示符进入自己想要创建项目的磁盘输入<code>vue ui</code>启动项目管理系统。</p>
<p>2.新建项目，输入项目名称，包管理器选择为<code>npm</code>，初始化git仓库出输入<code>init project</code>。</p>
<p>3.选择手动配置勾选<code>使用配置文件</code>、<code>Router</code>，取消勾选<code>Linter/Formatter</code>。创建项目，不保存预设。</p>
<p>4.在项目中选择插件，进行<code>vue-cli-plugin-element</code>插件安装，安装完点击安装加载到项目中。</p>
<p>5.依赖中添加<code>axios</code>、<code>less-loader</code>、<code>less</code>。</p>
<p>6.点击任务，点击server，点击运行，点击启动app启动项目。</p>
<h2 id="2-2-前端项目修改"><a href="#2-2-前端项目修改" class="headerlink" title="2.2 前端项目修改"></a>2.2 前端项目修改</h2><p>使用Visual Studio Code打开项目对项目进行编辑。</p>
<p>文件说明：通过<code>main.js</code>引入<code>App.vue</code>将其渲染在public文件夹下的<code>index.html</code>上，<code>App.vue</code>是我们的组件根节点(一个项目只能有一个id=”app”)将其不必要的内容删除。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>我们看到的页面其实都是一个页面<code>index.html</code>，通过组件渲染。</p>
<h2 id="2-3-login组件创建"><a href="#2-3-login组件创建" class="headerlink" title="2.3 login组件创建"></a>2.3 login组件创建</h2><h3 id="2-3-1-在components文件夹下创建Login-vue组件"><a href="#2-3-1-在components文件夹下创建Login-vue组件" class="headerlink" title="2.3.1 在components文件夹下创建Login.vue组件"></a>2.3.1 在components文件夹下创建<code>Login.vue</code>组件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> </span><br><span class="xml">    </span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="javascript"><span class="xml">    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123; </span></span><br><span class="javascript"><span class="xml"></span></span><br><span class="javascript"><span class="xml">    &#125;</span></span><br><span class="javascript"><span class="xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h3 id="2-3-2-在index-js中引入Login-vue组件"><a href="#2-3-2-在index-js中引入Login-vue组件" class="headerlink" title="2.3.2 在index.js中引入Login.vue组件"></a>2.3.2 在<code>index.js</code>中引入<code>Login.vue</code>组件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//引入Login组件</span><br><span class="hljs-keyword">import</span> Login <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../components/Login.vue&#x27;</span> <br></code></pre></td></tr></table></figure>

<h3 id="2-3-3-为Login-vue组件配置路由"><a href="#2-3-3-为Login-vue组件配置路由" class="headerlink" title="2.3.3 为Login.vue组件配置路由"></a>2.3.3 为<code>Login.vue</code>组件配置路由</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> routes = [<br>  &#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/&quot;</span>,<br>    <span class="hljs-attr">redirect</span>:<span class="hljs-string">&quot;/login&quot;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/login&quot;</span>,<br>    <span class="hljs-attr">component</span>:Login<br>  &#125;,<br>]<br></code></pre></td></tr></table></figure>

<h3 id="2-3-4-在App-vue中路由组件"><a href="#2-3-4-在App-vue中路由组件" class="headerlink" title="2.3.4 在App.vue中路由组件"></a>2.3.4 在<code>App.vue</code>中路由组件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure>

<h3 id="2-3-5-编写全局样式在assets文件夹下的css文件夹下添加global-css"><a href="#2-3-5-编写全局样式在assets文件夹下的css文件夹下添加global-css" class="headerlink" title="2.3.5 编写全局样式在assets文件夹下的css文件夹下添加global.css"></a>2.3.5 编写全局样式在assets文件夹下的css文件夹下添加<code>global.css</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/*全局样式*/</span><br>HTML,body,#app&#123;<br>    <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>%;<br>    margin: <span class="hljs-number">0</span>;<br>    padding: <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="2-3-6-在main-js中引入样式"><a href="#2-3-6-在main-js中引入样式" class="headerlink" title="2.3.6 在main.js中引入样式"></a>2.3.6 在<code>main.js</code>中引入样式</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//添加全局样式</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./assets/css/global.css&#x27;</span><br></code></pre></td></tr></table></figure>

<h3 id="2-3-7-编写Login-vue组件"><a href="#2-3-7-编写Login-vue组件" class="headerlink" title="2.3.7 编写Login.vue组件"></a>2.3.7 编写<code>Login.vue</code>组件</h3><p>使用EmlementUi创建表单,网站链接 <a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN">EmlementUi</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;login_container&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 登陆块  --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;login_box&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-comment">&lt;!-- 头像 --&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;avatar_box&quot;</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;logoimg&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../assets/logo.png&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">            <span class="hljs-comment">&lt;!-- 表单区域 --&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;loginFormRef&quot;</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">&quot;loginrules&quot;</span> <span class="hljs-attr">:model</span>=<span class="hljs-string">&quot;loginForm&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;login_form&quot;</span> <span class="hljs-attr">label-width</span>=<span class="hljs-string">&quot;0&quot;</span>&gt;</span></span><br><span class="xml">                <span class="hljs-comment">&lt;!-- 用户名 --&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;username&quot;</span> &gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;loginForm.username&quot;</span> <span class="hljs-attr">prefix-icon</span>=<span class="hljs-string">&quot;iconfont icon-denglu&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="xml">                <span class="hljs-comment">&lt;!-- 密码 --&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span>  <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;loginForm.password&quot;</span> <span class="hljs-attr">prefix-icon</span>=<span class="hljs-string">&quot;iconfont icon-mima&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="xml">                <span class="hljs-comment">&lt;!-- 按钮 --&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btns&quot;</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;login()&quot;</span>&gt;</span>登录<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;info&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;resetloginform()&quot;</span> &gt;</span>重置<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">el-form</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h3 id="2-3-8-方法区域"><a href="#2-3-8-方法区域" class="headerlink" title="2.3.8 方法区域"></a>2.3.8 方法区域</h3><p>表单model为loginForm,需要在script的data方法中return表单元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script&gt;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">return</span>&#123;<br>            <span class="hljs-comment">//表单数据对象</span><br>            <span class="hljs-attr">loginForm</span>:&#123;<br>                <span class="hljs-attr">username</span>:<span class="hljs-string">&quot;admin&quot;</span>,<br>                <span class="hljs-attr">password</span>:<span class="hljs-string">&quot;123456&quot;</span>,<br>            &#125;,<br>            <span class="hljs-comment">//验证对象</span><br>            <span class="hljs-attr">loginrules</span>:&#123;<br>                <span class="hljs-comment">//校验用户名</span><br>                <span class="hljs-attr">username</span>:[<br>                    &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;用户名为必填项&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;,<span class="hljs-comment">//必填项验证</span><br>                    &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;长度在5 ~ 12 个字符&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;<span class="hljs-comment">//长度验证</span><br>                ],<br>                <span class="hljs-comment">//校验密码</span><br>                <span class="hljs-attr">password</span>:[<br>                    &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;请输入密码&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;,<span class="hljs-comment">//必填项验证</span><br>                    &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;长度在6 ~ 10个字符&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;<span class="hljs-comment">//长度验证</span><br>                ],<br>            &#125;,<br>        &#125;;<br>    &#125;,<br>    <span class="hljs-attr">methods</span>:&#123;<br>        <span class="hljs-comment">//重置表单内容 </span><br>        <span class="hljs-function"><span class="hljs-title">resetloginform</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-built_in">this</span>.$refs.loginFormRef.resetFields();<br>        &#125;,<br>        <span class="hljs-function"><span class="hljs-title">login</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-built_in">this</span>.$refs.loginFormRef.validate(<span class="hljs-keyword">async</span> validate=&gt;&#123;<br>                <span class="hljs-keyword">if</span>(!validate) <span class="hljs-keyword">return</span>;<br>                <span class="hljs-keyword">const</span>&#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.post(<span class="hljs-string">&quot;test&quot;</span>);<br>                <span class="hljs-keyword">if</span>(res == <span class="hljs-string">&quot;ok&quot;</span>)&#123;<br>                    <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;操作成功&quot;</span>);<br>                    <span class="hljs-built_in">this</span>.$router.push(&#123;<span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/home&quot;</span>&#125;);<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                     <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;操作失败&quot;</span>);<br>                &#125;<br>            &#125;)<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="2-3-9-CSS样式"><a href="#2-3-9-CSS样式" class="headerlink" title="2.3.9 CSS样式"></a>2.3.9 CSS样式</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;/script&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>  <span class="hljs-attr">scoped</span>&gt;</span><span class="css"></span></span><br><span class="css"><span class="xml">//根节点样式</span></span><br><span class="css"><span class="xml"><span class="hljs-selector-class">.login_container</span>&#123;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#2b4b6b</span>;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span></span><br><span class="css"><span class="xml">&#125;</span></span><br><span class="css"><span class="xml">//登录框样式</span></span><br><span class="css"><span class="xml"><span class="hljs-selector-class">.login_box</span>&#123;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">width</span>:<span class="hljs-number">450px</span>;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>;//边框圆角</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">position</span>: absolute;//绝对定位，便于移动</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;//左右居中</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;//上下居中</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>,-<span class="hljs-number">50%</span>);//以自己的长宽居中   </span></span><br><span class="css"><span class="xml">&#125;</span></span><br><span class="css"><span class="xml">//图片背景样式</span></span><br><span class="css"><span class="xml"><span class="hljs-selector-class">.avatar_box</span>&#123;</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">width</span>: <span class="hljs-number">130px</span>;</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">height</span>: <span class="hljs-number">130px</span>;</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;//<span class="hljs-number">1</span>个像素的边框</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;//圆形边角，使其变为圆形</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;//边距</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">#ddd</span>;//盒子阴影</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">position</span>: absolute;</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span> ,-<span class="hljs-number">50%</span>);</span></span><br><span class="css"><span class="xml">        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#eee</span>;</span></span><br><span class="css"><span class="xml">&#125;</span></span><br><span class="css"><span class="xml">//图片样式</span></span><br><span class="css"><span class="xml"><span class="hljs-selector-class">.logoimg</span>&#123;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;//自圆</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#eee</span>;</span></span><br><span class="css"><span class="xml">&#125;</span></span><br><span class="css"><span class="xml">//按钮样式</span></span><br><span class="css"><span class="xml"><span class="hljs-selector-class">.btns</span>&#123;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">display</span>: flex;//流式布局</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">justify-content</span>: flex-end;//首尾对其，横向居中</span></span><br><span class="css"><span class="xml">&#125;</span></span><br><span class="css"><span class="xml">//表单样式</span></span><br><span class="css"><span class="xml"><span class="hljs-selector-class">.login_form</span>&#123;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">position</span>: absolute;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0%</span>;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;//上下<span class="hljs-number">0</span> 左右<span class="hljs-number">10px</span></span></span><br><span class="css"><span class="xml">    <span class="hljs-attribute">box-sizing</span>: border-box;//设置边框</span></span><br><span class="css"><span class="xml">&#125;</span></span><br><span class="css"><span class="xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h3 id="2-3-10-iconfont引入"><a href="#2-3-10-iconfont引入" class="headerlink" title="2.3.10 iconfont引入"></a>2.3.10 iconfont引入</h3><p>项目中需要用到矢量图，图标我们可以使用<a target="_blank" rel="noopener" href="https://www.iconfont.cn/">iconfont</a>中的图，自定义图标库以便使用。</p>
<p>1.登录上方网页，将项目需要图标加入项目，添加完所有需要的图标后下载资源到本地。</p>
<p>2.重命名解压后的文件夹为font，复制在assets文件夹下，并在<code>main.js</code>中引入 <code>iconfont.css</code> </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> <span class="hljs-comment">//引入iconfont</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./assets/font/iconfont.css&#x27;</span><br></code></pre></td></tr></table></figure>

<p>3.挑选相应图标并获取类名，应用于页面：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-input v-model=<span class="hljs-string">&quot;loginForm.username&quot;</span> prefix-icon=<span class="hljs-string">&quot;iconfont icon-denglu&quot;</span>&gt;&lt;/el-input&gt;<br></code></pre></td></tr></table></figure>

<h3 id="2-3-11-login校验规则"><a href="#2-3-11-login校验规则" class="headerlink" title="2.3.11 login校验规则"></a>2.3.11 login校验规则</h3><p><code>ElementUi</code>的Form组件提供了表单验证的功能，只需要通过 rules 属性传入约定的验证规则，并将 Form-Item 的 prop 属性设置为需校验的字段名即可。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-form ref=<span class="hljs-string">&quot;loginFormRef&quot;</span> :rules=<span class="hljs-string">&quot;loginrules&quot;</span> :model=<span class="hljs-string">&quot;loginForm&quot;</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;login_form&quot;</span> label-width=<span class="hljs-string">&quot;0&quot;</span>&gt;<br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 用户名 --&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;username&quot;</span> &gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;loginForm.username&quot;</span> <span class="hljs-attr">prefix-icon</span>=<span class="hljs-string">&quot;iconfont icon-denglu&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><br>&lt;!-- 密码 --&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span>  <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;loginForm.password&quot;</span> <span class="hljs-attr">prefix-icon</span>=<span class="hljs-string">&quot;iconfont icon-mima&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>于script的data方法中的return中添加校验规则</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//验证对象</span><br><span class="hljs-attr">loginrules</span>:&#123;<br>    <span class="hljs-comment">//校验用户名</span><br>    <span class="hljs-attr">username</span>:[<br>        &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;用户名为必填项&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;,<span class="hljs-comment">//必填项验证</span><br>        &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;长度在5 ~ 12 个字符&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;<span class="hljs-comment">//长度验证</span><br>    ],<br>    <span class="hljs-comment">//校验密码</span><br>    <span class="hljs-attr">password</span>:[<br>        &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;请输入密码&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;,<span class="hljs-comment">//必填项验证</span><br>        &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;长度在6 ~ 10个字符&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;<span class="hljs-comment">//长度验证</span><br>    ],<br>&#125;,<br></code></pre></td></tr></table></figure>

<h2 id="2-4-登录和重置按钮事件"><a href="#2-4-登录和重置按钮事件" class="headerlink" title="2.4 登录和重置按钮事件"></a>2.4 登录和重置按钮事件</h2><h3 id="2-4-1-在main-js中导入-axios-进行跨域"><a href="#2-4-1-在main-js中导入-axios-进行跨域" class="headerlink" title="2.4.1 在main.js中导入 axios 进行跨域"></a>2.4.1 在<code>main.js</code>中导入 axios 进行跨域</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//导入axios 进行跨域</span><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br><span class="hljs-comment">//挂载axios</span><br>Vue.prototype.$http = axios<br><span class="hljs-comment">//设置访问根路径</span><br>axios.defaults.baseURL = <span class="hljs-string">&quot;http://localhost:9000&quot;</span><br></code></pre></td></tr></table></figure>
<h3 id="2-4-2-给按钮添加click事件"><a href="#2-4-2-给按钮添加click事件" class="headerlink" title="2.4.2 给按钮添加click事件"></a>2.4.2 给按钮添加click事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-button type=<span class="hljs-string">&quot;primary&quot;</span> @click=<span class="hljs-string">&quot;login()&quot;</span>&gt;登录&lt;/el-button&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;info&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;resetloginform()&quot;</span> &gt;</span>重置<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<h3 id="2-4-3-click事件编写"><a href="#2-4-3-click事件编写" class="headerlink" title="2.4.3 click事件编写"></a>2.4.3 click事件编写</h3><p>于script的methods方法中新建表单重置函数resetloginform()和登陆函数login()</p>
<p>重置方法调用ElementUi的重置方法resetFields()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//重置表单内容 </span><br><span class="hljs-function"><span class="hljs-title">resetloginform</span>(<span class="hljs-params"></span>)</span>&#123;<br>	<span class="hljs-built_in">this</span>.$refs.loginFormRef.resetFields();<br>&#125;,<br></code></pre></td></tr></table></figure>

<p>登录方法获得表单验证信息，validate变量为true或者false表示验证通过与否</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">this</span>.$refs.loginFormRef.validate(<span class="hljs-keyword">async</span> validate=&gt;&#123;<br><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>使用挂载提交我们的信息,其中<code>this.$http.post(&quot;test&quot;)</code>为提交。<code>async</code>与<code>await</code>是将我们的信息解析。<code>const&#123;data:res&#125;</code>使用data类型的res变量接收数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span>&#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.post(<span class="hljs-string">&quot;test&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>完整登录方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-title">login</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-comment">//验证校验规则</span><br>    <span class="hljs-built_in">this</span>.$refs.loginFormRef.validate(<span class="hljs-keyword">async</span> validate=&gt;&#123;<br>        <span class="hljs-keyword">if</span>(!validate) <span class="hljs-keyword">return</span>;<span class="hljs-comment">//验证失败</span><br>        <span class="hljs-keyword">const</span>&#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.post(<span class="hljs-string">&quot;test&quot;</span>);<span class="hljs-comment">//访问后台</span><br>        <span class="hljs-keyword">if</span>(res == <span class="hljs-string">&quot;ok&quot;</span>)&#123;<br>            <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;操作成功&quot;</span>);<span class="hljs-comment">//信息提示</span><br>            <span class="hljs-built_in">this</span>.$router.push(&#123;<span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/home&quot;</span>&#125;);<span class="hljs-comment">//页面路由跳转</span><br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;操作失败&quot;</span>);<span class="hljs-comment">//错误提示</span><br>        &#125;<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="3、登录后台开发"><a href="#3、登录后台开发" class="headerlink" title="3、登录后台开发"></a>3、登录后台开发</h1><h2 id="3-1创建user实体类"><a href="#3-1创建user实体类" class="headerlink" title="3.1创建user实体类"></a>3.1创建user实体类</h2><table>
<thead>
<tr>
<th align="center">名称</th>
<th align="center">类型</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">id</td>
<td align="center">int</td>
<td align="center">主键id</td>
</tr>
<tr>
<td align="center">username</td>
<td align="center">String</td>
<td align="center">用户名</td>
</tr>
<tr>
<td align="center">password</td>
<td align="center">String</td>
<td align="center">密码</td>
</tr>
<tr>
<td align="center">email</td>
<td align="center">String</td>
<td align="center">邮箱</td>
</tr>
<tr>
<td align="center">role</td>
<td align="center">String</td>
<td align="center">角色类型</td>
</tr>
<tr>
<td align="center">state</td>
<td align="center">boolean</td>
<td align="center">启用标识</td>
</tr>
</tbody></table>
<h2 id="3-2-创建UserDao"><a href="#3-2-创建UserDao" class="headerlink" title="3.2 创建UserDao"></a>3.2 创建UserDao</h2><p>会根据用户输入的<code>用户名</code>和<code>密码</code>来获取信息，方法名<code>getUserMassage</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@Repository<br>public interface UserDao &#123;<br>    public int getUserMassage(@Param(<span class="hljs-string">&quot;userName&quot;</span>) <span class="hljs-built_in">String</span> userName,@Param(<span class="hljs-string">&quot;password&quot;</span>) <span class="hljs-built_in">String</span> password);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="3-3-创建UserMapping"><a href="#3-3-创建UserMapping" class="headerlink" title="3.3 创建UserMapping"></a>3.3 创建UserMapping</h2><p>mybatis的映射文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;<br>&lt;!DOCTYPE mapper  PUBLIC <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br>        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.deyunjiaoyu.sportplay.dao.UserDao&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserMassage&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.deyunjiaoyu.sportplay.bean.User&quot;</span> &gt;</span></span><br><span class="xml">        SELECT count(id) FROM easyuser </span><br><span class="xml">        WHERE username=#&#123;userName&#125; AND password=#&#123;password&#125; AND state = 1</span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>查询条件：<code>SELECT count(id) FROM easyuser WHERE username=#&#123;userName&#125; AND password=#&#123;password&#125; AND state = 1</code></p>
<h2 id="3-3-创建LoginController"><a href="#3-3-创建LoginController" class="headerlink" title="3.3 创建LoginController"></a>3.3 创建LoginController</h2><p>使用传递过来的username和password入参dao的<code>getUserByMassage</code>方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@Autowired<br>UserDao userDao;<br>@RequestMapping(<span class="hljs-string">&quot;login&quot;</span>)<br>public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">login</span>(<span class="hljs-params">@RequestBody User user</span>)</span>&#123;<br>   User us = userDao.getUserMassage(user.getUserName(),user.getPassword());<br>   System.out.println(<span class="hljs-string">&quot;user&quot;</span>+us);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="3-3-路由守卫"><a href="#3-3-路由守卫" class="headerlink" title="3.3 路由守卫"></a>3.3 路由守卫</h2><p>登录成功后，希望设置一个保存信息。所以修改<code>UserMapping.xml</code>查询语句：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">SELECT * FROM easyuser WHERE username=#&#123;userName&#125; AND password=#&#123;password&#125; AND state = <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<p>在pom.xml里添加json依赖,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;dependency&gt;<br>   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br>   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br>   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.28<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br>&lt;/dependency&gt;<br></code></pre></td></tr></table></figure>
<p>登录方法修改返回值为字符串类型。创建map存放查询出的user和flag，使用JSON.toJSONString转化对象为json。返回JSON字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@RequestMapping(<span class="hljs-string">&quot;login&quot;</span>)<br>    public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">login</span>(<span class="hljs-params">@RequestBody User user</span>)</span>&#123;<br>        <span class="hljs-built_in">String</span> flag = <span class="hljs-string">&quot;erro&quot;</span>;<br>        User us = userDao.getUserMassage(user.getUserName(), user.getPassword());<br>        HashMap&lt;<span class="hljs-built_in">String</span>,<span class="hljs-built_in">Object</span>&gt; res = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        <span class="hljs-keyword">if</span>(us != <span class="hljs-literal">null</span>)&#123;<br>            flag=<span class="hljs-string">&quot;ok&quot;</span>;<br>        &#125;<br>        res.put(<span class="hljs-string">&quot;flag&quot;</span>,flag);<br>        res.put(<span class="hljs-string">&quot;user&quot;</span>,us);<br>        <span class="hljs-built_in">String</span> res_json = <span class="hljs-built_in">JSON</span>.toJSONString(res);<br>        <span class="hljs-keyword">return</span> res_json;<br>    &#125;<br></code></pre></td></tr></table></figure>
<p>前台修改接收信息内容，获得登录的user，保存到客户端的 sessionStorage中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span>&#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.post(<span class="hljs-string">&quot;login&quot;</span>,<span class="hljs-built_in">this</span>.loginForm);<span class="hljs-comment">//访问后台</span><br>  <span class="hljs-keyword">if</span>(res.flag == <span class="hljs-string">&quot;ok&quot;</span>)&#123;<br>    <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;操作成功&quot;</span>);<span class="hljs-comment">//信息提示</span><br>    <span class="hljs-built_in">window</span>.sessionStorage.setItem(<span class="hljs-string">&quot;user&quot;</span>,res.user);<span class="hljs-comment">//存储user对象</span><br>    <span class="hljs-built_in">this</span>.$router.push(&#123;<span class="hljs-attr">path</span>:<span class="hljs-string">&quot;/home&quot;</span>&#125;);<span class="hljs-comment">//页面路由跳转</span><br>   &#125;<span class="hljs-keyword">else</span>&#123;<br>       <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;操作失败&quot;</span>);<span class="hljs-comment">//错误提示</span><br>       &#125;<br>    &#125;);<br></code></pre></td></tr></table></figure>
<p>在index.js里创建路由导航，用来做一些进入页面的限制。没有登录，就不能进入。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 挂载路由导航守卫</span><br>router.beforeEach(<span class="hljs-function">(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)=&gt;</span>&#123;<br>  <span class="hljs-comment">// to 将要访问</span><br>  <span class="hljs-comment">// from 从哪访问</span><br>  <span class="hljs-comment">// next 接着干的事 next(url)重定向到url上 next() 继续访问to的路径</span><br><br>  <span class="hljs-keyword">const</span> userFlag =  <span class="hljs-built_in">window</span>.sessionStorage.getItem(<span class="hljs-string">&quot;user&quot;</span>);<span class="hljs-comment">//取出当前用户</span><br>  <span class="hljs-keyword">if</span>(to.path == <span class="hljs-string">&#x27;/login&#x27;</span>) <span class="hljs-keyword">return</span> next();<br>  <span class="hljs-keyword">if</span>(userFlag == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> next(<span class="hljs-string">&#x27;/login&#x27;</span>);<span class="hljs-comment">// 无值，返回登陆页</span><br>  next();<span class="hljs-comment">//符合要求，放行</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<h2 id="3-4-安全退出"><a href="#3-4-安全退出" class="headerlink" title="3.4 安全退出"></a>3.4 安全退出</h2><p>添加安全退出按钮标签</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-button type=<span class="hljs-string">&quot;info&quot;</span> @click=<span class="hljs-string">&quot;logout&quot;</span>&gt;安全退出&lt;/el-button&gt;<br></code></pre></td></tr></table></figure>
<p>添加安全退出方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-title">logout</span>(<span class="hljs-params"></span>)</span> &#123;<br>  <span class="hljs-built_in">window</span>.sessionStorage.clear();<br>  <span class="hljs-built_in">this</span>.$router.push(<span class="hljs-string">&quot;/login&quot;</span>);<br>&#125;,<br></code></pre></td></tr></table></figure>
<h1 id="4、HOME页开发"><a href="#4、HOME页开发" class="headerlink" title="4、HOME页开发"></a>4、HOME页开发</h1><h2 id="4-1-引入container布局"><a href="#4-1-引入container布局" class="headerlink" title="4.1 引入container布局"></a>4.1 引入container布局</h2><p>使用elementUi在<code>home.vue</code>中添加布局</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-container <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;home-container&quot;</span>&gt;<br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-header</span>&gt;</span>Header<span class="hljs-tag">&lt;/<span class="hljs-name">el-header</span>&gt;</span></span><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-container</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-aside</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200px&quot;</span>&gt;</span>Aside<span class="hljs-tag">&lt;/<span class="hljs-name">el-aside</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-main</span>&gt;</span>Main<span class="hljs-tag">&lt;/<span class="hljs-name">el-main</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">el-container</span>&gt;</span></span><br>&lt;/el-container&gt;<br></code></pre></td></tr></table></figure>

<p>添加背景</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.el-header &#123;<br>  background-color: #373d41;<br>&#125;<br>.el-aside &#123;<br>  background-color: #<span class="hljs-number">333744</span>;<br>&#125;<br>.el-main &#123;<br>  background-color: #eaedf1;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>布局充满</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.home-container &#123;<br>  <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>%;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="4-2-完善Header"><a href="#4-2-完善Header" class="headerlink" title="4.2 完善Header"></a>4.2 完善Header</h2><p>使用elementUi添加header</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-header&gt;<br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../assets/logo.jpg&quot;</span> <span class="hljs-attr">alt</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;logo_img&quot;</span> /&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>运动管理平台<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;info&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;logout&quot;</span>&gt;</span>安全退出<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br>  &lt;/el-header&gt;<br></code></pre></td></tr></table></figure>
<p>样式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.el-header &#123;<br>  background-color: #373d41;<br>  display: flex;<br>  justify-content: space-between;<br>  padding-left: <span class="hljs-number">0</span>%;<br>  align-items: center;<br>  color: #fff;<br>  font-size: 20px; <br>&#125;<br>.el-header div&#123;<br>  <span class="hljs-attr">display</span>: flex;<br>  align-items: center;<br>&#125;<br>.hometitle&#123;<br>      margin-left: 15px;<br>  &#125;<br>.el-aside &#123;<br>  background-color: #<span class="hljs-number">333744</span>;<br>&#125;<br>.el-aside .el-menu&#123;<br>    border-right: none;<br>&#125;<br>.el-main &#123;<br>  background-color: #eaedf1;<br>&#125;<br>.logo2img&#123;<br>    <span class="hljs-attr">width</span>: 50px;<br>    height: 55px;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="4-3-左侧菜单布局"><a href="#4-3-左侧菜单布局" class="headerlink" title="4.3 左侧菜单布局"></a>4.3 左侧菜单布局</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-aside width=<span class="hljs-string">&quot;200px&quot;</span>&gt;<br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;toggle-button&quot;</span> &gt;</span>|||<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-menu</span> <span class="hljs-attr">background-color</span>=<span class="hljs-string">&quot;#545c64&quot;</span>  <span class="hljs-attr">text-color</span>=<span class="hljs-string">&quot;#fff&quot;</span> <span class="hljs-attr">active-text-color</span>=<span class="hljs-string">&quot;#409eff&quot;</span> <span class="hljs-attr">:router</span>=<span class="hljs-string">&quot;true&quot;</span>  <span class="hljs-attr">:default-active</span>=<span class="hljs-string">&quot;activePath&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 一级菜单 --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-submenu</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;item.id+&#x27;&#x27;&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in menuList &quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.id&quot;</span> &gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;iconsObject[item.id]&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="xml">            <span class="hljs-comment">&lt;!-- 二级菜单 --&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;it.path&quot;</span>  <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;it in item.sList &quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;it.id&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;saveNavState(it.path)&quot;</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;iconsObject[it.id]&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;it.title&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>                                </span><br><span class="xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-submenu</span>&gt;</span></span><br><span class="xml">    </span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu</span>&gt;</span></span><br>&lt;/el-aside&gt;<br></code></pre></td></tr></table></figure>
<h2 id="4-4-访问左侧菜单数据"><a href="#4-4-访问左侧菜单数据" class="headerlink" title="4.4 访问左侧菜单数据"></a>4.4 访问左侧菜单数据</h2><h3 id="4-4-1-页面加载请求数据"><a href="#4-4-1-页面加载请求数据" class="headerlink" title="4.4.1 页面加载请求数据"></a>4.4.1 页面加载请求数据</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//页面一加载就做 onload</span><br> <span class="hljs-function"><span class="hljs-title">created</span>(<span class="hljs-params"></span>)</span> &#123;<br>        <span class="hljs-comment">//查询menuList</span><br>        <span class="hljs-built_in">this</span>.getMenuList();<br>        <span class="hljs-built_in">this</span>.activePath = <span class="hljs-built_in">window</span>.sessionStorage.getItem(<span class="hljs-string">&#x27;activePath&#x27;</span>);<span class="hljs-comment">//取出session里的path动态修改activePath</span><br>        &#125;,<br></code></pre></td></tr></table></figure>
<p>methods里面   </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 获取所有的导航菜单</span><br>  <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-title">getMenuList</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.get(<span class="hljs-string">&quot;menus&quot;</span>);<br>    <span class="hljs-built_in">console</span>.log(res.data);<br>    <span class="hljs-keyword">if</span>( res.status != <span class="hljs-number">200</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;操作失败！！！&quot;</span>);<br>    <span class="hljs-built_in">this</span>.menuList = res.data;<br>  &#125;,<br></code></pre></td></tr></table></figure>
<h3 id="4-4-2-定义菜单列表对象"><a href="#4-4-2-定义菜单列表对象" class="headerlink" title="4.4.2 定义菜单列表对象"></a>4.4.2 定义菜单列表对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">	<span class="hljs-comment">//菜单列表</span><br><span class="hljs-attr">menuList</span>:[],<br><span class="hljs-attr">iconsObject</span>: &#123;<br>    <span class="hljs-string">&#x27;100&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-guanliyuan&#x27;</span>,<br>    <span class="hljs-string">&#x27;200&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-sport&#x27;</span>,<br>    <span class="hljs-string">&#x27;101&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-denglu&#x27;</span>,<br>    <span class="hljs-string">&#x27;102&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-mima&#x27;</span>,<br>    <span class="hljs-string">&#x27;103&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-sport&#x27;</span>,<br>    <span class="hljs-string">&#x27;104&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-shangpinguanli&#x27;</span>,<br>    <span class="hljs-string">&#x27;201&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-shu&#x27;</span>,<br>    <span class="hljs-string">&#x27;202&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-qialuli&#x27;</span>,<br>    <span class="hljs-string">&#x27;203&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-a-tupianyihuifu-68&#x27;</span>,<br>    <span class="hljs-string">&#x27;204&#x27;</span>:<span class="hljs-string">&#x27;iconfont icon-denglu&#x27;</span>,<br>&#125;,<br></code></pre></td></tr></table></figure>
<h3 id="4-4-3-定义menu后台"><a href="#4-4-3-定义menu后台" class="headerlink" title="4.4.3 定义menu后台"></a>4.4.3 定义menu后台</h3><p>bean实体</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SubMenu</span> </span>&#123;<br>    private int id;<br>    private <span class="hljs-built_in">String</span> title;<br>    private <span class="hljs-built_in">String</span> path;<br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainMenu</span> </span>&#123;<br>    private int id;<br>    private <span class="hljs-built_in">String</span> title;<br>    private <span class="hljs-built_in">String</span> path;<br>    List&lt;SubMenu&gt; slist;<br><br></code></pre></td></tr></table></figure>
<p>控制器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@RestController<br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MenuController</span> </span>&#123;<br><br>    @Autowired<br>    MenuDao menuDao;<br><br>    @RequestMapping(<span class="hljs-string">&quot;/menus&quot;</span>)<br>    public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">getAllMenus</span>(<span class="hljs-params"></span>)</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;&quot;</span>);<br>        HashMap&lt;<span class="hljs-built_in">String</span>,<span class="hljs-built_in">Object</span>&gt; data =<span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        <span class="hljs-comment">//int flag = 404;// 错误404 成功200</span><br>        List&lt;MainMenu&gt; menus = menuDao.getMenus();<br>        <span class="hljs-keyword">if</span>(menus != <span class="hljs-literal">null</span>)&#123;<br>            data.put(<span class="hljs-string">&quot;menus&quot;</span>,menus);<br>            data.put(<span class="hljs-string">&quot;flag&quot;</span>,<span class="hljs-number">200</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            data.put(<span class="hljs-string">&quot;flag&quot;</span>,<span class="hljs-number">404</span>);<br>        &#125;<br>        <span class="hljs-built_in">String</span> s =<span class="hljs-built_in">JSON</span>.toJSONString(data);<br>        <span class="hljs-keyword">return</span> s;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>dao层接口类</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@Repository<br>public interface MenuDao &#123;<br>    public List&lt;MainMenu&gt; getMainMenus();<br>&#125;<br></code></pre></td></tr></table></figure>
<p>映射文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;<br>&lt;!DOCTYPE mapper  PUBLIC <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br>        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.deyunjiaoyu.sportplay.dao.MenuDao&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-comment">&lt;!--关系映射--&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;menuMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;com.deyunjiaoyu.sportplay.bean.MainMenu&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!--前一个对应数据库，后一个对应实体中的--&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;title&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">result</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;path&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;path&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">result</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;sList&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;com.deyunjiaoyu.sportplay.bean.SubMenu&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;stitle&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">result</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;spath&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;path&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">result</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getMenus&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;menuMap&quot;</span> &gt;</span></span><br><span class="xml">        SELECT mm.*,sm.id as sid ,sm.title as stitle,sm.path as spath FROM mainmenu mm ,submenu sm WHERE mm.id = sm.mid;</span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h3 id="4-4-4-消除对不齐的线"><a href="#4-4-4-消除对不齐的线" class="headerlink" title="4.4.4 消除对不齐的线"></a>4.4.4 消除对不齐的线</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.el-aside &#123;<br>  background-color: #<span class="hljs-number">333744</span>;<br>&#125;<br>.el-aside .el-menu&#123;<br>    border-right: none;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="4-5-折叠按钮（我没有加）"><a href="#4-5-折叠按钮（我没有加）" class="headerlink" title="4.5 折叠按钮（我没有加）"></a>4.5 折叠按钮（我没有加）</h2><p>添加折叠按钮</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;toggle-button&quot;</span> @click=<span class="hljs-string">&quot;toggleCollapase&quot;</span>&gt;|||&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>修改按钮样式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.toggle-button&#123;<br>  background-color:#4A5064;<br>  font-size: 10px;<br>  line-height: 24px;<br>  color:#fff;<br>  text-align: center;<br>  letter-spacing: <span class="hljs-number">0.</span>2em;<br>  cursor: pointer;<span class="hljs-comment">// 显示鼠标指针为：小手</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>定义按键方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 切换菜单折叠与展开</span><br> <span class="hljs-function"><span class="hljs-title">toggleCollapase</span>(<span class="hljs-params"></span>)</span>&#123;<br> <span class="hljs-built_in">this</span>.isCollapse = !<span class="hljs-built_in">this</span>.isCollapse;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>添加一些属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;active-text-color=<span class="hljs-string">&quot;#409eff&quot;</span> unique-opened :collapse=<span class="hljs-string">&quot;isCollapse&quot;</span> <br>          :collapse-transition=<span class="hljs-string">&quot;false&quot;</span><br></code></pre></td></tr></table></figure>
<p>修改侧边栏宽度</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-aside :width=<span class="hljs-string">&quot;isCollapse ?&#x27;64px&#x27;:&#x27;200px&#x27;&quot;</span>&gt;<br></code></pre></td></tr></table></figure>
<h2 id="4-6-路由重定向"><a href="#4-6-路由重定向" class="headerlink" title="4.6 路由重定向"></a>4.6 路由重定向</h2><h3 id="4-6-1-创建Welcome组件"><a href="#4-6-1-创建Welcome组件" class="headerlink" title="4.6.1 创建Welcome组件"></a>4.6.1 创建Welcome组件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;main_welcome&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Welcome!!!<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="javascript"><span class="xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="javascript"><span class="xml">    </span></span><br><span class="javascript"><span class="xml">&#125;</span></span><br><span class="javascript"><span class="xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<h3 id="4-6-2-配置重定向"><a href="#4-6-2-配置重定向" class="headerlink" title="4.6.2 配置重定向"></a>4.6.2 配置重定向</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/home&#x27;</span>,<br>  <span class="hljs-attr">component</span>: Home,<br>  <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/welcome&#x27;</span>,<br>  <span class="hljs-attr">children</span>: [<br>    &#123; <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/welcome&#x27;</span>, <span class="hljs-attr">component</span>: Welcome&#125;<br>  ],<br>&#125;,<br></code></pre></td></tr></table></figure>
<h3 id="4-6-3-侧边栏路由链接"><a href="#4-6-3-侧边栏路由链接" class="headerlink" title="4.6.3 侧边栏路由链接"></a>4.6.3 侧边栏路由链接</h3><p>先在侧边栏加入路由属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-menu background-color=<span class="hljs-string">&quot;#545c64&quot;</span> text-color=<span class="hljs-string">&quot;#fff&quot;</span> active-text-color=<span class="hljs-string">&quot;#409eff&quot;</span> unique-opened :collapse=<span class="hljs-string">&quot;isCollapse&quot;</span> :collapse-transition=<span class="hljs-string">&quot;false&quot;</span>  :router=<span class="hljs-string">&quot;true&quot;</span>&gt;<br></code></pre></td></tr></table></figure>
<p>之后修改每一个次级菜单的路径</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-menu-item  :index=<span class="hljs-string">&quot;it.path+&#x27;&#x27;&quot;</span> v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;it in item.slist&quot;</span> :key=<span class="hljs-string">&quot;it.id&quot;</span>&gt;<br></code></pre></td></tr></table></figure>
<h1 id="5、admin组件开发"><a href="#5、admin组件开发" class="headerlink" title="5、admin组件开发"></a>5、admin组件开发</h1><h2 id="5-1-创建user组件"><a href="#5-1-创建user组件" class="headerlink" title="5.1 创建user组件"></a>5.1 创建user组件</h2><p>在components下新建admin文件夹，在admin文件夹下创建<code>user.vue</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">  	userlist!!!</span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h2 id="5-2-添加新路由"><a href="#5-2-添加新路由" class="headerlink" title="5.2 添加新路由"></a>5.2 添加新路由</h2><p>index.js下home添加新的子组件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/home&#x27;</span>,<br>  <span class="hljs-attr">component</span>: Home,<br>  <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/welcome&#x27;</span>,<br>  <span class="hljs-attr">children</span>: [<br>    &#123; <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/welcome&#x27;</span>, <span class="hljs-attr">component</span>: Welcome&#125;,<br>    &#123; <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/user&#x27;</span>, <span class="hljs-attr">component</span>: User&#125;<br>  ],<br>&#125;,<br></code></pre></td></tr></table></figure>
<h2 id="5-3-路径高亮"><a href="#5-3-路径高亮" class="headerlink" title="5.3 路径高亮"></a>5.3 路径高亮</h2><p>home组件中添加一个新的属性default-active</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-menu background-color=<span class="hljs-string">&quot;#545c64&quot;</span> text-color=<span class="hljs-string">&quot;#fff&quot;</span> active-text-color=<span class="hljs-string">&quot;#409eff&quot;</span> unique-opened :collapse=<span class="hljs-string">&quot;isCollapse&quot;</span> :collapse-transition=<span class="hljs-string">&quot;false&quot;</span>  :router=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-keyword">default</span>-active=<span class="hljs-string">&quot;/user&quot;</span>&gt;<br></code></pre></td></tr></table></figure>
<p>创建连接<code>激活事件</code>事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascipt">&lt;el-menu-item  :index=&quot;it.path+&#x27;&#x27;&quot; v-for=&quot;it in item.slist&quot; :key=&quot;it.id&quot;  @click=&quot;saveNavState(it.path+&#x27;&#x27;)&quot;&gt;<br></code></pre></td></tr></table></figure>
<p>创建<code>连接激活</code>属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascipt">// 被激活的连接<br>activePath:&#x27;&#x27;,<br><br>&lt;el-menu background-color=&quot;#545c64&quot; text-color=&quot;#fff&quot; active-text-color=&quot;#409eff&quot; unique-opened :collapse=&quot;isCollapse&quot; :collapse-transition=&quot;false&quot;  :router=&quot;true&quot; :default-active=&quot;activePath&quot;&gt;<br></code></pre></td></tr></table></figure>
<p>创建<code>连接激活</code>方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascipt">saveNavState(activePath)&#123;<br>	window.sessionStorage.setItem(&#x27;activePath&#x27;,activePath);// 存放点击的二级菜单<br>	this.activePath = activePath;// 给点击的菜单添加高亮<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>修改create方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascipt">created() &#123;<br>    this.getMenuList();<br>    this.activePath = window.sessionStorage.getItem(&#x27;activePath&#x27;);// 取出session里的访问路径<br>&#125;,<br></code></pre></td></tr></table></figure>
<h1 id="6、用户列表组件开发"><a href="#6、用户列表组件开发" class="headerlink" title="6、用户列表组件开发"></a>6、用户列表组件开发</h1><h2 id="6-1-面包屑导航区"><a href="#6-1-面包屑导航区" class="headerlink" title="6.1 面包屑导航区"></a>6.1 面包屑导航区</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 面包屑导航 --&gt;<br>   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-breadcrumb</span> <span class="hljs-attr">separator-class</span>=<span class="hljs-string">&quot;el-icon-arrow-right&quot;</span>&gt;</span></span><br><span class="xml">     <span class="hljs-tag">&lt;<span class="hljs-name">el-breadcrumb-item</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">&quot;&#123; path: &#x27;/home&#x27; &#125;&quot;</span>&gt;</span>首页<span class="hljs-tag">&lt;/<span class="hljs-name">el-breadcrumb-item</span>&gt;</span></span><br><span class="xml">     <span class="hljs-tag">&lt;<span class="hljs-name">el-breadcrumb-item</span>&gt;</span>权限管理<span class="hljs-tag">&lt;/<span class="hljs-name">el-breadcrumb-item</span>&gt;</span></span><br><span class="xml">     <span class="hljs-tag">&lt;<span class="hljs-name">el-breadcrumb-item</span>&gt;</span>用户列表<span class="hljs-tag">&lt;/<span class="hljs-name">el-breadcrumb-item</span>&gt;</span></span><br><span class="xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">el-breadcrumb</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p><code>全局样式</code>表里修改样式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/* 面包屑样式 */</span><br>.el-breadcrumb&#123;<br>    margin-bottom: 15px;<br>    font-size: 12px;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>6.2 卡片视图区</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> &lt;!-- 卡片视图区 --&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-card</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">el-card</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>全局card样式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/* 卡片区域  !important 提高样式级别 */</span><br>.el-card&#123;<br>    box-shadow: <span class="hljs-number">0</span> 1px 1px rgba(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0.15</span>) !important;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>添加搜索组件并且使用栅格</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 卡片视图区 --&gt;<br>   &lt;el-card&gt;<br>     <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-row</span> <span class="hljs-attr">:gutter</span>=<span class="hljs-string">&quot;25&quot;</span>&gt;</span> 间隙</span><br><span class="xml">       <span class="hljs-tag">&lt;<span class="hljs-name">el-col</span> <span class="hljs-attr">:span</span>=<span class="hljs-string">&quot;10&quot;</span>&gt;</span> 列宽</span><br><span class="xml">         <span class="hljs-comment">&lt;!-- 搜索添加 --&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入搜索内容&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;queryInfo.query&quot;</span> <span class="hljs-attr">clearable</span> @<span class="hljs-attr">clear</span>=<span class="hljs-string">&quot;getUserList&quot;</span>&gt;</span></span><br><span class="xml">           <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;append&quot;</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">&quot;el-icon-search&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getUserList&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml">       <span class="hljs-tag">&lt;/<span class="hljs-name">el-col</span>&gt;</span></span><br><span class="xml">       <span class="hljs-tag">&lt;<span class="hljs-name">el-col</span> <span class="hljs-attr">:span</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addDialogVisible = true&quot;</span>&gt;</span>添加用户<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">       <span class="hljs-tag">&lt;/<span class="hljs-name">el-col</span>&gt;</span></span><br><span class="xml">     <span class="hljs-tag">&lt;/<span class="hljs-name">el-row</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h1 id="7、用户数据获取"><a href="#7、用户数据获取" class="headerlink" title="7、用户数据获取"></a>7、用户数据获取</h1><h2 id="7-1-前台组件"><a href="#7-1-前台组件" class="headerlink" title="7.1 前台组件"></a>7.1 前台组件</h2><p>create方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-title">created</span>(<span class="hljs-params"></span>)</span> &#123;<br>  <span class="hljs-built_in">this</span>.getUserList();<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>获取用户方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-title">getUserList</span>(<span class="hljs-params"></span>)</span> &#123;<br>     <span class="hljs-comment">// 调用post请求</span><br>     <span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">data</span>: res &#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.get(<span class="hljs-string">&quot;allUser&quot;</span>, &#123;<br>       <span class="hljs-attr">params</span>: <span class="hljs-built_in">this</span>.queryInfo<br>     &#125;);<br>     <span class="hljs-built_in">this</span>.userlist = res.data; <span class="hljs-comment">// 将返回数据赋值</span><br>     <span class="hljs-built_in">this</span>.total = res.numbers; <span class="hljs-comment">// 总个数</span><br>   &#125;,<br></code></pre></td></tr></table></figure>
<p>封装查询数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> <span class="hljs-comment">// 请求数据</span><br><span class="hljs-attr">queryInfo</span>: &#123;<br>  <span class="hljs-attr">query</span>: <span class="hljs-string">&quot;&quot;</span>,<br>  <span class="hljs-attr">pageNum</span>: <span class="hljs-number">1</span>,<br>  <span class="hljs-attr">pageSize</span>: <span class="hljs-number">5</span><br>&#125;,<br><span class="hljs-attr">userlist</span>: [],<span class="hljs-comment">// 用户列表</span><br><span class="hljs-attr">total</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 最大数据记录</span><br></code></pre></td></tr></table></figure>
<h2 id="7-2-用户列表后台"><a href="#7-2-用户列表后台" class="headerlink" title="7.2 用户列表后台"></a>7.2 用户列表后台</h2><p>控制层</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@RequestMapping(<span class="hljs-string">&quot;/allUser&quot;</span>)<br> public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">getUserList</span>(<span class="hljs-params">QueryInfo queryInfo</span>)</span>&#123;<br>     System.out.println(queryInfo);<br>     int numbers = userDao.getUserCounts(<span class="hljs-string">&quot;%&quot;</span>+queryInfo.getQuery()+<span class="hljs-string">&quot;%&quot;</span>);<span class="hljs-comment">// 获取数据总数</span><br>     int pageStart = (queryInfo.getPageNum()-<span class="hljs-number">1</span>)*queryInfo.getPageSize();<br>     List&lt;User&gt; users = userDao.getAllUser(<span class="hljs-string">&quot;%&quot;</span>+queryInfo.getQuery()+<span class="hljs-string">&quot;%&quot;</span>,pageStart,queryInfo.getPageSize());<br>     HashMap&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Object</span>&gt; res = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>     res.put(<span class="hljs-string">&quot;numbers&quot;</span>,numbers);<br>     res.put(<span class="hljs-string">&quot;data&quot;</span>,users);<br>     System.out.println(<span class="hljs-string">&quot;总条数：&quot;</span>+numbers);<br>     <span class="hljs-built_in">String</span> users_json = <span class="hljs-built_in">JSON</span>.toJSONString(res);<br>     <span class="hljs-keyword">return</span> users_json;<br> &#125;<br></code></pre></td></tr></table></figure>
<p>dao层</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@Repository<br>public interface UserDao &#123;<br>    public int getUserByMassage(@Param(<span class="hljs-string">&quot;username&quot;</span>) <span class="hljs-built_in">String</span> username, @Param(<span class="hljs-string">&quot;password&quot;</span>) <span class="hljs-built_in">String</span> password);<br>    public List&lt;User&gt; getAllUser(@Param(<span class="hljs-string">&quot;username&quot;</span>) <span class="hljs-built_in">String</span> username,@Param(<span class="hljs-string">&quot;pageStart&quot;</span>) int pageStart, @Param(<span class="hljs-string">&quot;pageSize&quot;</span>) int pageSize);<br>    public int getUserCounts(@Param(<span class="hljs-string">&quot;username&quot;</span>) <span class="hljs-built_in">String</span> username);<br></code></pre></td></tr></table></figure>
<p>Mapper映射文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;select id=<span class="hljs-string">&quot;getAllUser&quot;</span> resultType=<span class="hljs-string">&quot;com.deyunjiaoyu.sportplay.bean.User&quot;</span>&gt;<br>      SELECT * FROM easyuser<br>      &lt;<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;userName !=null &quot;</span>&gt;<br>          WHERE username like #&#123;userName&#125;<br>      &lt;/<span class="hljs-keyword">if</span>&gt;<br>      LIMIT #&#123;pageStart&#125;,#&#123;pageSize&#125;<br>  &lt;/select&gt;<br><br>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserCounts&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;java.lang.Integer&quot;</span>&gt;</span></span><br><span class="xml">      SELECT count(*) FROM easyuser</span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;userName !=null &quot;</span>&gt;</span></span><br><span class="xml">          WHERE username like #&#123;userName&#125;</span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>查询信息实体</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QueryInfo</span> </span>&#123;<br>private <span class="hljs-built_in">String</span> query;<br>private int pageNum=<span class="hljs-number">1</span>;<br>private int pageSize=<span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure>

<h2 id="7-3-用户列表渲染"><a href="#7-3-用户列表渲染" class="headerlink" title="7.3 用户列表渲染"></a>7.3 用户列表渲染</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 用户列表部分  border 边框 stripe 隔行变色--&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">&quot;userList&quot;</span> <span class="hljs-attr">border</span> <span class="hljs-attr">stripe</span>&gt;</span></span><br><span class="xml">    <span class="hljs-comment">&lt;!-- 索引列 --&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;用户名&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;userName&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;邮箱&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;密码&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;角色&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;role&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;状态&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;state&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 作用域插槽 scope.row每一行封存的数据--&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;scope&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-switch</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;scope.row.state&quot;</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">&quot;userStateChange(scope.row)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-switch</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;操作&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- slot-scope=&quot;scope&quot; --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;scope&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-comment">&lt;!-- 修改 --&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">&quot;el-icon-edit&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;mini&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showEditDialog(scope.row.id)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">            <span class="hljs-comment">&lt;!-- 删除 --&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;danger&quot;</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">&quot;el-icon-delete&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;mini&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;deleteUser(scope.row.id)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">            <span class="hljs-comment">&lt;!-- 权限 --&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-tooltip</span> <span class="hljs-attr">effect</span>=<span class="hljs-string">&quot;dark&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;分配权限&quot;</span> <span class="hljs-attr">placement</span>=<span class="hljs-string">&quot;top-start&quot;</span> <span class="hljs-attr">:enterable</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--文字提示 enterable 隐藏--&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;warning&quot;</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">&quot;el-icon-setting&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;mini&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">el-tooltip</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<h2 id="7-4-全局表格样式"><a href="#7-4-全局表格样式" class="headerlink" title="7.4 全局表格样式"></a>7.4 全局表格样式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/* 表格样式 */</span><br>.el-table &#123;<br>    margin-top: 15px;<br>    font-size: 12px;<br>    min-width: 350px;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="8、分页组件"><a href="#8、分页组件" class="headerlink" title="8、分页组件"></a>8、分页组件</h1><h2 id="8-1-分页组件渲染"><a href="#8-1-分页组件渲染" class="headerlink" title="8.1 分页组件渲染"></a>8.1 分页组件渲染</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 分页 size-change 每页最大数变化 current-change 页数变化 layout 功能组件--&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-pagination</span></span></span><br><span class="hljs-tag"><span class="xml">        @<span class="hljs-attr">size-change</span>=<span class="hljs-string">&quot;handleSizeChange&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">        @<span class="hljs-attr">current-change</span>=<span class="hljs-string">&quot;handleCurrentChange&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">        <span class="hljs-attr">:current-page</span>=<span class="hljs-string">&quot;queryInfo.pageNum&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">        <span class="hljs-attr">:page-sizes</span>=<span class="hljs-string">&quot;[1, 2, 5, 100]&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">        <span class="hljs-attr">:page-size</span>=<span class="hljs-string">&quot;queryInfo.pageSize&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">        <span class="hljs-attr">layout</span>=<span class="hljs-string">&quot;total, sizes, prev, pager, next, jumper&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">        <span class="hljs-attr">:total</span>=<span class="hljs-string">&quot;total&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-pagination</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<h2 id="8-2-相关方法"><a href="#8-2-相关方法" class="headerlink" title="8.2 相关方法"></a>8.2 相关方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 监听pageSize改变的事件</span><br><span class="hljs-function"><span class="hljs-title">handleSizeChange</span>(<span class="hljs-params">newSize</span>)</span> &#123;<br>	<span class="hljs-built_in">this</span>.queryInfo.pageSize = newSize;<br>	<span class="hljs-built_in">this</span>.getUserList(); <span class="hljs-comment">// 数据发生改变重新申请数据</span><br>&#125;,<br><span class="hljs-comment">// 监听pageNum改变的事件</span><br><span class="hljs-function"><span class="hljs-title">handleCurrentChange</span>(<span class="hljs-params">newPage</span>)</span> &#123;<br>	<span class="hljs-built_in">this</span>.queryInfo.pageNum = newPage;<br>	<span class="hljs-built_in">this</span>.getUserList(); <span class="hljs-comment">// 数据发生改变重新申请数据</span><br>&#125;,<br></code></pre></td></tr></table></figure>
<h1 id="9、用户状态修改"><a href="#9、用户状态修改" class="headerlink" title="9、用户状态修改"></a>9、用户状态修改</h1><h2 id="9-1-绑定change方法"><a href="#9-1-绑定change方法" class="headerlink" title="9.1 绑定change方法"></a>9.1 绑定change方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!--作用域插槽 scope.row 存储了当前行的信息 --&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;scope&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--数据模板--&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">el-switch</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;scope.row.state&quot;</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">&quot;userStateChanged(scope.row)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-switch</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<h2 id="9-2-创建changeState方法"><a href="#9-2-创建changeState方法" class="headerlink" title="9.2 创建changeState方法"></a>9.2 创建changeState方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 修改用户状态</span><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-title">userStateChanged</span>(<span class="hljs-params">userinfo</span>)</span> &#123;<br>	<span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">data</span>: res &#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.put(<br>        <span class="hljs-string">`userState?id=<span class="hljs-subst">$&#123;userinfo.id&#125;</span>&amp;state=<span class="hljs-subst">$&#123;userinfo.state&#125;</span>`</span><br>    );<br>    <span class="hljs-keyword">if</span> (res != <span class="hljs-string">&quot;success&quot;</span>) &#123;<br>        userinfo.state = !userinfo.state;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;操作失败！！！&quot;</span>);<br>      &#125;<br>    <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;操作成功！！！&quot;</span>);<br>&#125;,<br></code></pre></td></tr></table></figure>
<h2 id="9-3-修改状态后台"><a href="#9-3-修改状态后台" class="headerlink" title="9.3 修改状态后台"></a>9.3 修改状态后台</h2><p>dao层编写接口</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@Repository<br>public interface UserDao &#123;<br>    public int updateState(Integer id, <span class="hljs-built_in">Boolean</span> state);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>dao的映射文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;update id=<span class="hljs-string">&quot;updateState&quot;</span>&gt;<br>   UPDATE easyuser SET state = #&#123;state&#125; WHERE id = #&#123;id&#125;<br>&lt;/update&gt;<br></code></pre></td></tr></table></figure>
<p>controller层编写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@RequestMapping(<span class="hljs-string">&quot;/userState&quot;</span>)<br>public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">updateUserState</span>(<span class="hljs-params">@RequestParam(<span class="hljs-string">&quot;id&quot;</span>) Integer  id,</span></span><br><span class="hljs-params"><span class="hljs-function">                                  @RequestParam(<span class="hljs-string">&quot;state&quot;</span>) <span class="hljs-built_in">Boolean</span> state</span>)</span>&#123;<br>	int i = userDao.updateState(id, state);<br>	<span class="hljs-built_in">String</span> str = i &gt;<span class="hljs-number">0</span>?<span class="hljs-string">&quot;success&quot;</span>:<span class="hljs-string">&quot;error&quot;</span>;<br>	<span class="hljs-keyword">return</span> str;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="10-搜索功能实现"><a href="#10-搜索功能实现" class="headerlink" title="10 搜索功能实现"></a>10 搜索功能实现</h1><h2 id="10-1-搜索组件完善"><a href="#10-1-搜索组件完善" class="headerlink" title="10.1 搜索组件完善"></a>10.1 搜索组件完善</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 搜索添加 双向绑定搜索信息 clearable 清除功能 --&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入搜索内容&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;queryInfo.query&quot;</span> <span class="hljs-attr">clearable</span> @<span class="hljs-attr">clear</span>=<span class="hljs-string">&quot;getUserList&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;append&quot;</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">&quot;el-icon-search&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getUserList&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<h2 id="10-2-新建用户对话框"><a href="#10-2-新建用户对话框" class="headerlink" title="10.2 新建用户对话框"></a>10.2 新建用户对话框</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!--添加用户对话框--&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-dialog</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;添加用户&quot;</span> <span class="hljs-attr">:visible.sync</span>=<span class="hljs-string">&quot;addDialogVisible&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;50%&quot;</span> @<span class="hljs-attr">close</span>=<span class="hljs-string">&quot;addDialogClose&quot;</span> &gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-form</span> <span class="hljs-attr">:model</span>=<span class="hljs-string">&quot;addForm&quot;</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">&quot;addFormRules&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;addFormRef&quot;</span> <span class="hljs-attr">label-width</span>=<span class="hljs-string">&quot;70px&quot;</span>&gt;</span> </span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 用户名 --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;用户名&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;userName&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;addForm.userName&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span>    </span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>   </span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 密码 --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;密码&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;addForm.password&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 邮箱 --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;邮箱&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;addForm.email&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>            </span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-form</span>&gt;</span> </span><br><span class="xml">    <span class="hljs-comment">&lt;!-- 内容底部区域 --&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;footer&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addDialogVisible = false&quot;</span>&gt;</span>取 消<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addUser&quot;</span>&gt;</span>确 定<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">el-dialog</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>添加对话框属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript">addDialogVisible: <span class="hljs-literal">false</span> ,<span class="hljs-comment">// 对话框显示</span><br><span class="hljs-comment">// 添加用户表单项</span><br><span class="hljs-attr">addForm</span>: &#123;<br>        <span class="hljs-attr">username</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">password</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">email</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>      &#125;, <br>      <span class="hljs-comment">// 验证规则</span><br>      <span class="hljs-attr">addFormRules</span>:&#123;<br>        <span class="hljs-attr">username</span>:[<br>           &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;请输入用户名&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;,<br>          &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;长度在 5 到 8 个字符&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;<br>        ],<br>        <span class="hljs-attr">password</span>:[<br>           &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;请输入密码&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;,<br>          &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;长度在 6 到 8 个字符&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;<br>        ],<br>        <span class="hljs-attr">email</span>:[<br>           &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;请输入邮箱&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;,<br>          &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;请输入正确邮箱地址&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;<br>        ],<br>&#125;,<br></code></pre></td></tr></table></figure>
<h2 id="10-3-添加用户方法"><a href="#10-3-添加用户方法" class="headerlink" title="10.3 添加用户方法"></a>10.3 添加用户方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//监听添加用户</span><br><span class="hljs-function"><span class="hljs-title">addDialogClose</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.$refs.addFormRef.resetFields();<br>&#125;,<br><span class="hljs-comment">//添加用户</span><br><span class="hljs-function"><span class="hljs-title">addUser</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.$refs.addFormRef.validate(<span class="hljs-keyword">async</span> valid=&gt;&#123;<br>        <span class="hljs-keyword">if</span>(!valid) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.post(<span class="hljs-string">&quot;adduser&quot;</span>,<span class="hljs-built_in">this</span>.addForm);<br>        <span class="hljs-keyword">if</span>(res!=<span class="hljs-string">&quot;success&quot;</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;操作失败！！！&quot;</span>);    <br>        &#125;<br>            <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;操作成功！！！&quot;</span>);  <br>            <span class="hljs-built_in">this</span>.addDialogVisible = <span class="hljs-literal">false</span>;  <br>            <span class="hljs-built_in">this</span>.getUserList();<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure>
<h2 id="10-4-添加用户dao"><a href="#10-4-添加用户dao" class="headerlink" title="10.4 添加用户dao"></a>10.4 添加用户dao</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">public interface UserDao &#123;<br>    public int addUser(User user);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>对应Mapper.xml</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;insert id=<span class="hljs-string">&quot;addUser&quot;</span>&gt;<br>    INSERT INTO easyuser<br>    (username,password,email,role,state)<br>    VALUE<br>    (#&#123;username&#125;,#&#123;password&#125;,#&#123;email&#125;,#&#123;role&#125;,#&#123;state&#125;)<br>&lt;/insert&gt;<br></code></pre></td></tr></table></figure>

<h2 id="10-5-添加用户Controller"><a href="#10-5-添加用户Controller" class="headerlink" title="10.5 添加用户Controller"></a>10.5 添加用户Controller</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@RequestMapping(<span class="hljs-string">&quot;/addUser&quot;</span>)<br>    public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">addUser</span>(<span class="hljs-params">@RequestBody User user</span>)</span>&#123;<br>    System.out.println(user);<br>    user.setRole(<span class="hljs-string">&quot;普通用户&quot;</span>);<br>    user.setState(<span class="hljs-literal">false</span>);<br>    int i = userDao.addUser(user);<br>    <span class="hljs-built_in">String</span> str = i &gt;<span class="hljs-number">0</span>?<span class="hljs-string">&quot;success&quot;</span>:<span class="hljs-string">&quot;error&quot;</span>;<br>    <span class="hljs-keyword">return</span> str;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="11、修改用户"><a href="#11、修改用户" class="headerlink" title="11、修改用户"></a>11、修改用户</h1><h2 id="11-1-修改用户dao层"><a href="#11-1-修改用户dao层" class="headerlink" title="11.1 修改用户dao层"></a>11.1 修改用户dao层</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@Repository<br>public interface UserDao &#123;<br>    public User getUpdateUser(int id);<span class="hljs-comment">// 获取修改用户的原本信息</span><br>    public int editUser(User user);<span class="hljs-comment">// 修改用户</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="11-2-修改用户Mapper"><a href="#11-2-修改用户Mapper" class="headerlink" title="11.2 修改用户Mapper"></a>11.2 修改用户Mapper</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;select id=<span class="hljs-string">&quot;getUpdateUser&quot;</span> resultType=<span class="hljs-string">&quot;com.deyunjiaoyu.sportplay.bean.User&quot;</span>&gt;<br>        SELECT * FROM easyuser WHERE id = #&#123;id&#125;;<br> &lt;/select&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;editUser&quot;</span>&gt;</span></span><br><span class="xml">        UPDATE easyuser SET username = #&#123;userName&#125;,password = #&#123;password&#125;,email = #&#123;email&#125; WHERE id = #&#123;id&#125;</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br></code></pre></td></tr></table></figure>
<h2 id="11-3-修改用户Controller"><a href="#11-3-修改用户Controller" class="headerlink" title="11.3 修改用户Controller"></a>11.3 修改用户Controller</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@RequestMapping(<span class="hljs-string">&quot;/getUpdate&quot;</span>)<br>public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">getUpdateUser</span>(<span class="hljs-params">int id</span>)</span>&#123;<br>	System.out.println(<span class="hljs-string">&quot;编号:&quot;</span>+id);<br>	User updateUser = userDao.getUpdateUser(id);<br>	<span class="hljs-built_in">String</span> users_json = <span class="hljs-built_in">JSON</span>.toJSONString(updateUser);<br>	<span class="hljs-keyword">return</span> users_json;<br>&#125;<br><br>@RequestMapping(<span class="hljs-string">&quot;/editUser&quot;</span>)<br>public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">editUser</span>(<span class="hljs-params">@RequestBody User user</span>)</span>&#123;<br>	System.out.println(user);<br>	int i = userDao.editUser(user);<br>	<span class="hljs-built_in">String</span> str = i &gt;<span class="hljs-number">0</span>?<span class="hljs-string">&quot;success&quot;</span>:<span class="hljs-string">&quot;error&quot;</span>;<br>	<span class="hljs-keyword">return</span> str;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="11-4-添加修改属性"><a href="#11-4-添加修改属性" class="headerlink" title="11.4 添加修改属性"></a>11.4 添加修改属性</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 修改用户信息</span><br><span class="hljs-attr">editForm</span>:&#123;&#125;,<br><span class="hljs-comment">// 控制修改用户对话框显示/隐藏</span><br><span class="hljs-attr">editDialogVisible</span>:<span class="hljs-literal">false</span>,<br><span class="hljs-comment">// 修改用户表单验证规则</span><br><span class="hljs-attr">editFormRules</span>:&#123;<br>	<span class="hljs-attr">password</span>:[<br>		&#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;请输入密码&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;,<br>		&#123; <span class="hljs-attr">min</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;长度在 6 到 8 个字符&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;<br>	],<br>	<span class="hljs-attr">email</span>:[<br>		&#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;请输入邮箱&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;,<br>		&#123; <span class="hljs-attr">min</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;请输入正确邮箱地址&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;<br>	],<br>&#125;,<br></code></pre></td></tr></table></figure>
<h2 id="11-5-实现修改方法"><a href="#11-5-实现修改方法" class="headerlink" title="11.5 实现修改方法"></a>11.5 实现修改方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 展示修改框</span><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-title">showEditDialog</span>(<span class="hljs-params">id</span>)</span>&#123;<br>	<span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.get(<span class="hljs-string">&quot;getUpdate?id=&quot;</span>+id);<br>	<span class="hljs-built_in">this</span>.editForm = res;<br>	<span class="hljs-built_in">this</span>.editDialogVisible = <span class="hljs-literal">true</span>;<br>&#125;,<br><span class="hljs-comment">// 关闭窗口</span><br><span class="hljs-function"><span class="hljs-title">editDialogClosed</span>(<span class="hljs-params"></span>)</span>&#123;<br>	<span class="hljs-built_in">this</span>.$refs.editFormRef.resetFields();<br>&#125;,<br><span class="hljs-comment">// 确认修改</span><br><span class="hljs-function"><span class="hljs-title">editUserInfo</span>(<span class="hljs-params"></span>)</span>&#123;<br>	<span class="hljs-built_in">this</span>.$refs.editFormRef.validate(<span class="hljs-keyword">async</span> valid =&gt;&#123;<br>        <span class="hljs-built_in">console</span>.log(valid);<br>        <span class="hljs-keyword">if</span>( !valid ) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-comment">// 发起请求</span><br>        <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.put(<span class="hljs-string">&quot;editUser&quot;</span>,<span class="hljs-built_in">this</span>.editForm);<br>        <span class="hljs-built_in">console</span>.log(res);<br>        <span class="hljs-keyword">if</span> (res != <span class="hljs-string">&quot;success&quot;</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;操作失败！！！&quot;</span>);<br>        <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;操作成功！！！&quot;</span>);<br>        <span class="hljs-comment">//隐藏</span><br>        <span class="hljs-built_in">this</span>.editDialogVisible = <span class="hljs-literal">false</span>;<br>        <span class="hljs-built_in">this</span>.getUserList();<br>	&#125;);<br>&#125;,<br></code></pre></td></tr></table></figure>
<h2 id="11-6-绘制修改对话框"><a href="#11-6-绘制修改对话框" class="headerlink" title="11.6 绘制修改对话框"></a>11.6 绘制修改对话框</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 修改用户对话框 --&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-dialog</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;修改用户信息&quot;</span> <span class="hljs-attr">:visible.sync</span>=<span class="hljs-string">&quot;editDialogVisible&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;50%&quot;</span> @<span class="hljs-attr">colse</span>=<span class="hljs-string">&quot;editDialogClosed&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-form</span> <span class="hljs-attr">:model</span>=<span class="hljs-string">&quot;editForm&quot;</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">&quot;editFormRules&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;editFormRef&quot;</span> <span class="hljs-attr">label-width</span>=<span class="hljs-string">&quot;70px&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 用户名 --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;用户名&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span></span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;editForm.username&quot;</span> <span class="hljs-attr">disabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 密码 --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;密码&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span></span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;editForm.password&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- 邮箱 --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;邮箱&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;email&quot;</span>&gt;</span></span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;editForm.email&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;footer&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dialog-footer&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;editDialogVisible = false&quot;</span>&gt;</span>取 消<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;editUserInfo&quot;</span>&gt;</span>确 定<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">el-dialog</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<h2 id="11-7-编辑按钮激活修改页面"><a href="#11-7-编辑按钮激活修改页面" class="headerlink" title="11.7 编辑按钮激活修改页面"></a>11.7 编辑按钮激活修改页面</h2><p>点击编辑按钮会获取该行用户的信息，然后进行编辑。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;el-button type=<span class="hljs-string">&quot;primary&quot;</span> icon=<span class="hljs-string">&quot;el-icon-edit&quot;</span> size=<span class="hljs-string">&quot;mini&quot;</span> @click=<span class="hljs-string">&quot;showEditDialog(scope.row.id)&quot;</span>&gt;&lt;/el-button&gt;<br></code></pre></td></tr></table></figure>
<h1 id="12、删除用户"><a href="#12、删除用户" class="headerlink" title="12、删除用户"></a>12、删除用户</h1><h2 id="12-1-删除用户dao层"><a href="#12-1-删除用户dao层" class="headerlink" title="12.1 删除用户dao层"></a>12.1 删除用户dao层</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@Repository<br>public interface UserDao &#123;<br>    public int deleteUser(int id);<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="12-2-删除用户Mapper"><a href="#12-2-删除用户Mapper" class="headerlink" title="12.2 删除用户Mapper"></a>12.2 删除用户Mapper</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-keyword">delete</span> id=<span class="hljs-string">&quot;deleteUser&quot;</span>&gt;<br>	DELETE FROM easyuser WHERE id = #&#123;id&#125;<br>&lt;/<span class="hljs-keyword">delete</span>&gt;<br></code></pre></td></tr></table></figure>
<h2 id="12-3-删除用户Controller"><a href="#12-3-删除用户Controller" class="headerlink" title="12.3 删除用户Controller"></a>12.3 删除用户Controller</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">@RequestMapping(<span class="hljs-string">&quot;/deleteUser&quot;</span>)<br>public <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">deleteUser</span>(<span class="hljs-params">int id</span>)</span>&#123;<br>	int i = userDao.deleteUser(id);<br>	<span class="hljs-built_in">String</span> str = i &gt;<span class="hljs-number">0</span>?<span class="hljs-string">&quot;success&quot;</span>:<span class="hljs-string">&quot;error&quot;</span>;<br>	<span class="hljs-keyword">return</span> str;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="12-4-删除事件"><a href="#12-4-删除事件" class="headerlink" title="12.4 删除事件"></a>12.4 删除事件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 删除按钮</span><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-title">deleteUser</span>(<span class="hljs-params">id</span>)</span>&#123;<br>	<span class="hljs-comment">// 弹框</span><br>    <span class="hljs-keyword">const</span> confirmResult = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$confirm(<span class="hljs-string">&#x27;此操作将永久删除该用户, 是否继续?&#x27;</span>, <span class="hljs-string">&#x27;提示&#x27;</span>, &#123;<br>          <span class="hljs-attr">confirmButtonText</span>: <span class="hljs-string">&#x27;确定&#x27;</span>,<br>          <span class="hljs-attr">cancelButtonText</span>: <span class="hljs-string">&#x27;取消&#x27;</span>,<br>          <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;warning&#x27;</span><br>    &#125;).catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> err)<br>    <span class="hljs-comment">// 成功删除为confirm 取消为 cancel</span><br>    <span class="hljs-keyword">if</span>(confirmResult!=<span class="hljs-string">&#x27;confirm&#x27;</span>)&#123;<br>       <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.$message.info(<span class="hljs-string">&quot;已取消删除&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">data</span>:res&#125; = <span class="hljs-keyword">await</span> <span class="hljs-built_in">this</span>.$http.delete(<span class="hljs-string">&quot;deleteUser?id=&quot;</span>+id);<br>    <span class="hljs-keyword">if</span> (res != <span class="hljs-string">&quot;success&quot;</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;操作失败！！！&quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;操作成功！！！&quot;</span>);<br>    <span class="hljs-built_in">this</span>.getUserList();<br>&#125;,<br></code></pre></td></tr></table></figure>
<h2 id="12-5删除按钮添加删除"><a href="#12-5删除按钮添加删除" class="headerlink" title="12.5删除按钮添加删除"></a>12.5删除按钮添加删除</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- 删除 --&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;danger&quot;</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">&quot;el-icon-delete&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;mini&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;deleteUser(scope.row.id)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure>





      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>本文作者：</strong>thyme1228</li>
    <li><strong>本文链接：</strong><a href="https://thyme1228.github.io/2021/07/06/SpringBoot-Vue%E9%A1%B9%E7%9B%AE/index.html" title="https:&#x2F;&#x2F;thyme1228.github.io&#x2F;2021&#x2F;07&#x2F;06&#x2F;SpringBoot-Vue%E9%A1%B9%E7%9B%AE&#x2F;index.html">https:&#x2F;&#x2F;thyme1228.github.io&#x2F;2021&#x2F;07&#x2F;06&#x2F;SpringBoot-Vue%E9%A1%B9%E7%9B%AE&#x2F;index.html</a></li>
    <li><strong>版权声明：</strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议，转载请注明出处！</li>
  
</ul>
        
        
        
        
  <nav class="nav">
    <a href="/2021/07/07/Java%E9%9D%A2%E8%AF%95%E9%A2%98/"><i class="iconfont iconleft"></i>Java面试题</a>
    <a href="/2021/07/06/%E6%8C%87%E5%8D%97/">指南<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">文章目录：</h3>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84"><span class="toc-text">项目架构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E3%80%81%E5%90%8E%E5%8F%B0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">1、后台环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E5%88%9B%E5%BB%BA%E5%90%8E%E5%8F%B0%E9%A1%B9%E7%9B%AE"><span class="toc-text">1.1 创建后台项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E5%A4%84%E7%90%86%E8%B7%A8%E5%9F%9F"><span class="toc-text">1.2 处理跨域</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE"><span class="toc-text">2、创建前端项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%88%9B%E5%BB%BA%E6%AD%A5%E9%AA%A4"><span class="toc-text">2.1 创建步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E4%BF%AE%E6%94%B9"><span class="toc-text">2.2 前端项目修改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-login%E7%BB%84%E4%BB%B6%E5%88%9B%E5%BB%BA"><span class="toc-text">2.3 login组件创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E7%99%BB%E5%BD%95%E5%92%8C%E9%87%8D%E7%BD%AE%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6"><span class="toc-text">2.4 登录和重置按钮事件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3%E3%80%81%E7%99%BB%E5%BD%95%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91"><span class="toc-text">3、登录后台开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1%E5%88%9B%E5%BB%BAuser%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="toc-text">3.1创建user实体类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E5%88%9B%E5%BB%BAUserDao"><span class="toc-text">3.2 创建UserDao</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E5%88%9B%E5%BB%BAUserMapping"><span class="toc-text">3.3 创建UserMapping</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E5%88%9B%E5%BB%BALoginController"><span class="toc-text">3.3 创建LoginController</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-text">3.3 路由守卫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E5%AE%89%E5%85%A8%E9%80%80%E5%87%BA"><span class="toc-text">3.4 安全退出</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4%E3%80%81HOME%E9%A1%B5%E5%BC%80%E5%8F%91"><span class="toc-text">4、HOME页开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E5%BC%95%E5%85%A5container%E5%B8%83%E5%B1%80"><span class="toc-text">4.1 引入container布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E5%AE%8C%E5%96%84Header"><span class="toc-text">4.2 完善Header</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95%E5%B8%83%E5%B1%80"><span class="toc-text">4.3 左侧菜单布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E8%AE%BF%E9%97%AE%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-text">4.4 访问左侧菜单数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-%E6%8A%98%E5%8F%A0%E6%8C%89%E9%92%AE%EF%BC%88%E6%88%91%E6%B2%A1%E6%9C%89%E5%8A%A0%EF%BC%89"><span class="toc-text">4.5 折叠按钮（我没有加）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-%E8%B7%AF%E7%94%B1%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">4.6 路由重定向</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5%E3%80%81admin%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">5、admin组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E5%88%9B%E5%BB%BAuser%E7%BB%84%E4%BB%B6"><span class="toc-text">5.1 创建user组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E6%B7%BB%E5%8A%A0%E6%96%B0%E8%B7%AF%E7%94%B1"><span class="toc-text">5.2 添加新路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E8%B7%AF%E5%BE%84%E9%AB%98%E4%BA%AE"><span class="toc-text">5.3 路径高亮</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6%E3%80%81%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">6、用户列表组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E9%9D%A2%E5%8C%85%E5%B1%91%E5%AF%BC%E8%88%AA%E5%8C%BA"><span class="toc-text">6.1 面包屑导航区</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7%E3%80%81%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="toc-text">7、用户数据获取</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-%E5%89%8D%E5%8F%B0%E7%BB%84%E4%BB%B6"><span class="toc-text">7.1 前台组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%E5%90%8E%E5%8F%B0"><span class="toc-text">7.2 用户列表后台</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-text">7.3 用户列表渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-%E5%85%A8%E5%B1%80%E8%A1%A8%E6%A0%BC%E6%A0%B7%E5%BC%8F"><span class="toc-text">7.4 全局表格样式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E3%80%81%E5%88%86%E9%A1%B5%E7%BB%84%E4%BB%B6"><span class="toc-text">8、分页组件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-%E5%88%86%E9%A1%B5%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-text">8.1 分页组件渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95"><span class="toc-text">8.2 相关方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9%E3%80%81%E7%94%A8%E6%88%B7%E7%8A%B6%E6%80%81%E4%BF%AE%E6%94%B9"><span class="toc-text">9、用户状态修改</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-%E7%BB%91%E5%AE%9Achange%E6%96%B9%E6%B3%95"><span class="toc-text">9.1 绑定change方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-%E5%88%9B%E5%BB%BAchangeState%E6%96%B9%E6%B3%95"><span class="toc-text">9.2 创建changeState方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-3-%E4%BF%AE%E6%94%B9%E7%8A%B6%E6%80%81%E5%90%8E%E5%8F%B0"><span class="toc-text">9.3 修改状态后台</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-text">10 搜索功能实现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-1-%E6%90%9C%E7%B4%A2%E7%BB%84%E4%BB%B6%E5%AE%8C%E5%96%84"><span class="toc-text">10.1 搜索组件完善</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-2-%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">10.2 新建用户对话框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-3-%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E6%96%B9%E6%B3%95"><span class="toc-text">10.3 添加用户方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-4-%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7dao"><span class="toc-text">10.4 添加用户dao</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-5-%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7Controller"><span class="toc-text">10.5 添加用户Controller</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11%E3%80%81%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7"><span class="toc-text">11、修改用户</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11-1-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7dao%E5%B1%82"><span class="toc-text">11.1 修改用户dao层</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-2-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7Mapper"><span class="toc-text">11.2 修改用户Mapper</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-3-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7Controller"><span class="toc-text">11.3 修改用户Controller</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-4-%E6%B7%BB%E5%8A%A0%E4%BF%AE%E6%94%B9%E5%B1%9E%E6%80%A7"><span class="toc-text">11.4 添加修改属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-5-%E5%AE%9E%E7%8E%B0%E4%BF%AE%E6%94%B9%E6%96%B9%E6%B3%95"><span class="toc-text">11.5 实现修改方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-6-%E7%BB%98%E5%88%B6%E4%BF%AE%E6%94%B9%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-text">11.6 绘制修改对话框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-7-%E7%BC%96%E8%BE%91%E6%8C%89%E9%92%AE%E6%BF%80%E6%B4%BB%E4%BF%AE%E6%94%B9%E9%A1%B5%E9%9D%A2"><span class="toc-text">11.7 编辑按钮激活修改页面</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12%E3%80%81%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-text">12、删除用户</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#12-1-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7dao%E5%B1%82"><span class="toc-text">12.1 删除用户dao层</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-2-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7Mapper"><span class="toc-text">12.2 删除用户Mapper</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-3-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7Controller"><span class="toc-text">12.3 删除用户Controller</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-4-%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6"><span class="toc-text">12.4 删除事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-5%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE%E6%B7%BB%E5%8A%A0%E5%88%A0%E9%99%A4"><span class="toc-text">12.5删除按钮添加删除</span></a></li></ol></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="tencent://message/?Menu=yes&uin=894519210 "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#12B7F5'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconQQ "></i>
      </a><a 
        href="javascript:; "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#09BB07'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconwechat-fill "></i>
      </a><a 
        href="https://www.instagram.com/izhaoo/ "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#DA2E76'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconinstagram "></i>
      </a><a 
        href="https://github.com/zhaoo "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a><a 
        href="mailto:izhaoo@163.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color=#FF3B00" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail"></i>
      </a></div>
  
    <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
  
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>



  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>






  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>




<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>







  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>